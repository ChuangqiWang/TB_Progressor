"0","library(pheatmap)"
"0",""
"0","folder <- ""../10-22-2021-Diff_Pro_vs_noPro_0_12M_risk6score_R_Python"""
"0",""
"0","data <- read.csv(file.path(folder, ""mean_AUC_SeroScore_zscore.csv""))"
"0","write.csv(data, file.path('.', 'mean_AUC_SeroScore_zscore.csv'))"
"0",""
"0",""
"0",""
"0","data.matrix <- matrix(as.numeric(data), nrow = 255, byrow = TRUE)"
"0","rownames(data.matrix) <- Post.index"
"0","colnames(data.matrix) <- Neg.index"
"0","data.matrix.t <- t(data.matrix)"
"0",""
"0","mat_breaks <- quantile_breaks(na.omit(unlist(data.matrix)), n = 100)"
"0",""
"0","png(file.path(saved.dir, ""SeroScore_seg_v2.png""), width=3500, height=1500, res = 300)"
"0","pheatmap("
"0","  mat = as.matrix(data.matrix.t),"
"0","  color = colorRampPalette((brewer.pal(n = 8, name = ""OrRd"")))(length(mat_breaks) - 1),"
"0","  breaks = mat_breaks,"
"0","  border_color = NA,"
"0","  #color = colorRampPalette(rev(brewer.pal(n = 8, name = \RdYlBu\)))(6),"
"0","  show_rownames = TRUE,"
"0","  show_colnames = TRUE,"
"0","  cluster_rows = FALSE,"
"0","  cluster_cols = FALSE,"
"0","  fontsize = 5,"
"0","  fontsize_col = 4,"
"0","  scale = ""none"""
"0",")"
